<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>
   Admin Panel - HatakeSocial
  </title>
<script src="https://cdn.tailwindcss.com">
</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="css/style.css" rel="stylesheet"/>
<script>
   tailwind.config = {
            darkMode: 'class'
        };
  </script>
<link href="/manifest.json" rel="manifest"/>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-200 font-sans overflow-hidden">
<div class="flex h-screen">
<div class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden lg:hidden" id="sidebar-overlay">
</div>
<aside class="w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex-shrink-0 flex flex-col fixed inset-y-0 left-0 z-50 lg:relative lg:translate-x-0 -translate-x-full transition-transform duration-300 ease-in-out" id="sidebar">
    <div class="h-28 flex items-center justify-center border-b border-gray-200 dark:border-gray-700 px-4">
     <a class="flex flex-col items-center space-y-1" href="app.html">
      <img alt="HatakeSocial Logo" class="h-16" onerror="this.onerror=null; this.src='https://placehold.co/150x40?text=HatakeSocial';" src="https://firebasestorage.googleapis.com/v0/b/hatakesocial-88b5e.firebasestorage.app/o/IMG_7951.png?alt=media&token=e7c2dc48-2836-4feb-9fc7-324aecacba6b"/>
      <span class="font-bold text-lg text-blue-600 dark:text-blue-400">
       HatakeSocial
      </span>
     </a>
    </div>
<nav class="flex-1 px-4 py-6 space-y-2 overflow-y-auto">
<a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="app.html">
<i class="fas fa-home w-6 text-center">
</i>
<span class="ml-3">
       Main Site
      </span>
</a>
<a class="flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md" href="admin.html">
<i class="fas fa-shield-halved w-6 text-center">
</i>
<span class="ml-3">
       Admin Dashboard
      </span>
</a>
</nav>
</aside>
<div class="flex-1 flex flex-col overflow-hidden">
<header class="h-28 flex items-center justify-between px-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0">
<div class="flex items-center">
<button class="lg:hidden mr-4 text-gray-600 dark:text-gray-300 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 touch-manipulation relative" id="sidebar-toggle" style="min-width: 44px; min-height: 44px; z-index: 1000; position: relative;">
       <i class="fas fa-bars text-xl">
       </i>
      </button>
<div class="relative">
<i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">
</i>
<input class="w-full md:w-96 pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-full bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" id="main-search-bar" placeholder="Search for cards, users, or articles..." type="text"/>
</div>
</div>
<div class="flex items-center space-x-5" id="user-actions">
<!-- This container is dynamically filled by auth.js -->
</div>
</header>
<main class="flex-1 overflow-y-auto p-6">
<div id="admin-content">
<div class="text-center p-8">
<i class="fas fa-spinner fa-spin text-4xl text-blue-500">
</i>
<p class="mt-4 text-gray-600 dark:text-gray-400">
        Verifying permissions...
       </p>
</div>
</div>
</main>
</div>
</div>
<!-- Modals -->
<div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4" id="confirmation-modal">
<div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md">
<div class="p-6">
<h2 class="text-xl font-bold mb-4" id="confirmation-title">
      Confirm Action
     </h2>
<p id="confirmation-message">
      Are you sure you want to proceed?
     </p>
<div class="mt-6 flex justify-end space-x-4">
<button class="px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600" id="confirmation-cancel-btn">
       Cancel
      </button>
<button class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700" id="confirmation-confirm-btn">
       Confirm
      </button>
</div>
</div>
</div>
</div>
<div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4" id="suspend-user-modal">
<div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md">
<form class="p-6" id="suspend-user-form">
<h2 class="text-xl font-bold mb-4">
      Suspend User
     </h2>
<p class="mb-4">
      Select a duration for the suspension.
     </p>
<input id="suspend-user-id" type="hidden"/>
<div class="space-y-2">
<select class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="suspend-duration">
<option value="1">
        1 Hour
       </option>
<option value="24">
        1 Day (24 Hours)
       </option>
<option value="168">
        7 Days
       </option>
<option value="720">
        30 Days
       </option>
</select>
</div>
<div class="mt-6 flex justify-end space-x-4">
<button class="px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600" id="suspend-cancel-btn" type="button">
       Cancel
      </button>
<button class="px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600" type="submit">
       Suspend
      </button>
</div>
</form>
</div>
</div>
<div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4" id="user-profile-modal">
<div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col">
<div class="flex justify-between items-center p-4 border-b dark:border-gray-700">
<h2 class="text-xl font-bold">
      User Profile
     </h2>
<button class="text-gray-500 hover:text-gray-800 dark:hover:text-white text-2xl font-bold" id="close-user-profile-modal">
      ×
     </button>
</div>
<div class="p-6 overflow-y-auto" id="user-profile-modal-content">
</div>
</div>
</div>
<div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4" id="product-modal">
<div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col">
<div class="flex justify-between items-center p-4 border-b dark:border-gray-700">
<h2 class="text-xl font-bold" id="product-modal-title">
      Add Product
     </h2>
<button class="text-gray-500 hover:text-gray-800 dark:hover:text-white text-2xl font-bold" id="close-product-modal">
      ×
     </button>
</div>
<div class="p-6 overflow-y-auto">
<form class="space-y-4" id="product-form">
<input id="product-id" type="hidden"/>
<div>
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="product-name">
        Product Name
       </label>
<input class="mt-1 block w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="product-name" required="" type="text"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="product-description">
        Description
       </label>
<textarea class="mt-1 block w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="product-description" rows="4"></textarea>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
<div>
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="product-price">
         Price ($)
        </label>
<input class="mt-1 block w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="product-price" required="" step="0.01" type="number"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="product-stock">
         Stock
        </label>
<input class="mt-1 block w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="product-stock" required="" type="number"/>
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="product-stripe-id">
        Stripe Price ID
       </label>
<input class="mt-1 block w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="product-stripe-id" required="" type="text"/>
</div>
<div class="flex justify-end pt-4">
<button class="px-6 py-2 bg-green-600 text-white font-semibold rounded-full hover:bg-green-700" id="save-product-btn" type="submit">
        Save Product
       </button>
</div>
</form>
</div>
</div>
</div>
<div class="fixed bottom-5 right-5 z-[2000]" id="toast-container">
</div>
<!-- Firebase and App Scripts -->
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js">
</script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js">
</script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js">
</script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-storage-compat.js">
</script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-functions-compat.js">
</script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-analytics-compat.js">
</script>
<script src="js/auth.js">
</script>
  <script src="js/mobile-navigation-fixed.js">
  </script>
<script src="js/admin.js">
</script>
<script src="js/darkmode.js">
</script>
<script>
   const sidebar = document.getElementById('sidebar');
    const sidebarToggle = document.getElementById('sidebar-toggle');
    const sidebarOverlay = document.getElementById('sidebar-overlay');

    if (sidebarToggle) {
        sidebarToggle.addEventListener('click', () => {
            if (sidebar.classList.contains('-translate-x-full')) {
                    sidebar.classList.remove('-translate-x-full');
                    sidebar.classList.add('translate-x-0');
                    sidebarOverlay.classList.remove('hidden');
                } else {
                    sidebar.classList.add('-translate-x-full');
                    sidebar.classList.remove('translate-x-0');
                    sidebarOverlay.classList.add('hidden');
                }
        });
    }
    if (sidebarOverlay) {
        sidebarOverlay.addEventListener('click', () => {
            sidebar.classList.add('-translate-x-full');
            sidebarOverlay.classList.add('hidden');
        });
    }
  </script>
<div id="modals-container">
</div>
<script>
   // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch(function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
  </script>
<div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" id="loginModal">
<div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6">
<div class="flex justify-between items-center">
<h2 class="text-xl font-bold">
      Login
     </h2>
<button class="text-gray-500 hover:text-gray-800 dark:hover:text-white text-2xl font-bold" id="closeLoginModal">
      ×
     </button>
</div>
<form class="mt-4 space-y-4" id="loginForm">
<input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="loginEmail" placeholder="Email" required="" type="email"/>
<input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="loginPassword" placeholder="Password" required="" type="password"/>
<p class="text-red-500 text-sm hidden" id="login-error-message">
</p>
<button class="w-full bg-blue-600 text-white font-semibold py-2 rounded-md hover:bg-blue-700" type="submit">
      Login
     </button>
<button class="w-full bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold py-2 rounded-md border dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center justify-center" id="googleLoginButton" type="button">
<img alt="Google icon" class="w-5 h-5 mr-2" src="https://www.svgrepo.com/show/475656/google-color.svg"/>
      Sign in with Google
     </button>
</form>
</div>
</div>
<div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" id="registerModal">
<div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6">
<div class="flex justify-between items-center">
<h2 class="text-xl font-bold">
      Register
     </h2>
<button class="text-gray-500 hover:text-gray-800 dark:hover:text-white text-2xl font-bold" id="closeRegisterModal">
      ×
     </button>
</div>
<form class="mt-4 space-y-4" id="registerForm">
<input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerEmail" placeholder="Email" required="" type="email"/>
<input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerPassword" placeholder="Password" required="" type="password"/>
<input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerCity" placeholder="City" type="text"/>
<input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerCountry" placeholder="Country" type="text"/>
<input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerFavoriteTcg" placeholder="Favorite TCG" type="text"/>
<p class="text-red-500 text-sm hidden" id="register-error-message">
</p>
<button class="w-full bg-blue-600 text-white font-semibold py-2 rounded-md hover:bg-blue-700" type="submit">
      Register
     </button>
<button class="w-full bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold py-2 rounded-md border dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center justify-center" id="googleRegisterButton" type="button">
<img alt="Google icon" class="w-5 h-5 mr-2" src="https://www.svgrepo.com/show/475656/google-color.svg"/>
      Register with Google
     </button>
</form>
</div>
</div>
</body>
</html>
