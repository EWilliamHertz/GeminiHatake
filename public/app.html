<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Feed - HatakeSocial
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="css/style.css" rel="stylesheet"/>
  <link href="css/enhanced-pricing.css" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
  <link href="manifest.json" rel="manifest"/>
  <meta content="#1f2937" name="theme-color"/>
  <meta content="HatakeSocial - The Ultimate TCG Social Platform" name="description"/>
  <meta content="HatakeSocial, TCG, Trading Card Games, Magic, Pokemon, Lorcana, Social Platform" name="keywords"/>
  <meta content="HatakeSocial" property="og:title"/>
  <meta content="The Ultimate TCG Social Platform" property="og:description"/>
  <meta content="https://hatake.eu/images/og-image.jpg" property="og:image"/>
  <meta content="website" property="og:type"/>
  <meta content="@HatakeSocial" name="twitter:card"/>
  <style>
   .sidebar-item {
            transition: all 0.3s ease;
        }
        .sidebar-item:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transform: translateX(5px);
        }
        .sidebar-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .sidebar-item.active .sidebar-icon {
            color: white;
        }
        .notification-badge {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .post-card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .post-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .feed-tab {
            transition: all 0.3s ease;
        }
        .feed-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .suggestions-container {
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
        }
  </style>
 </head>
 <body class="bg-gray-100 dark:bg-gray-900 font-inter">
  <!-- Navigation -->
  <nav class="bg-white dark:bg-gray-800 shadow-lg fixed top-0 left-0 right-0 z-50">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
     <!-- Logo -->
     <div class="flex items-center">
      <a class="flex items-center space-x-2" href="index.html">
       <img alt="HatakeSocial Logo" class="h-8 w-8" src="https://i.imgur.com/B06rBhI.png"/>
       <span class="text-xl font-bold text-gray-800 dark:text-white">
        HatakeSocial
       </span>
      </a>
     </div>
     <!-- Search Bar -->
     <div class="flex-1 max-w-lg mx-8">
      <div class="relative">
       <input class="w-full px-4 py-2 pl-10 pr-4 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Search for cards, users, or articles..." type="text"/>
       <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
        <i class="fas fa-search text-gray-400">
        </i>
       </div>
      </div>
     </div>
     <!-- Right Side Icons -->
     <div class="flex items-center space-x-4">
      <!-- Dark Mode Toggle -->
      <button class="p-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors" id="darkModeToggle">
       <i class="fas fa-moon">
       </i>
      </button>
      <!-- Currency Selector -->
      <select class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" id="currencySelector">
       <option value="USD">
        USD
       </option>
       <option value="SEK">
        SEK
       </option>
       <option value="EUR">
        EUR
       </option>
       <option value="GBP">
        GBP
       </option>
       <option value="NOK">
        NOK
       </option>
       <option value="DKK">
        DKK
       </option>
      </select>
      <!-- Notifications -->
      <div class="relative">
       <button class="p-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors" id="notificationButton">
        <i class="fas fa-bell">
        </i>
        <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center notification-badge" id="notificationCount">
         0
        </span>
       </button>
       <!-- Notification Dropdown -->
       <div class="absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 hidden" id="notificationDropdown">
        <div class="p-4 border-b border-gray-200 dark:border-gray-700">
         <h3 class="text-lg font-semibold text-gray-800 dark:text-white">
          Notifications
         </h3>
        </div>
        <div class="max-h-96 overflow-y-auto" id="notificationList">
         <!-- Notifications will be loaded here -->
        </div>
        <div class="p-3 border-t border-gray-200 dark:border-gray-700 text-center">
         <a class="text-blue-500 hover:text-blue-600 text-sm" href="notifications.html">
          View all
         </a>
        </div>
       </div>
      </div>
      <!-- Shopping Cart -->
      <button class="p-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors relative" id="cartButton">
       <i class="fas fa-shopping-cart">
       </i>
       <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center" id="cartCount">
        7
       </span>
      </button>
      <!-- User Avatar -->
      <div class="relative">
       <button class="flex items-center space-x-2 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" id="userMenuButton">
        <img alt="User Avatar" class="h-8 w-8 rounded-full" id="userAvatar" src="https://ui-avatars.com/api/?name=User&amp;background=random"/>
       </button>
      </div>
     </div>
    </div>
   </div>
  </nav>
  <!-- Main Content -->
  <div class="flex pt-16 min-h-screen">
   <!-- Sidebar -->
   <div class="w-64 bg-white dark:bg-gray-800 shadow-lg fixed left-0 top-16 bottom-0 overflow-y-auto">
    <div class="p-4">
     <nav class="space-y-2">
      <a class="sidebar-item active flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="app.html">
       <i class="fas fa-home sidebar-icon">
       </i>
       <span>
        Feed
       </span>
       <span class="ml-auto bg-blue-500 text-white text-xs px-2 py-1 rounded-full">
        2
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="messages.html">
       <i class="fas fa-comments sidebar-icon">
       </i>
       <span>
        Messages
       </span>
       <span class="ml-auto bg-orange-500 text-white text-xs px-2 py-1 rounded-full">
        1
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="community.html">
       <i class="fas fa-users sidebar-icon">
       </i>
       <span>
        Community
       </span>
       <span class="ml-auto bg-green-500 text-white text-xs px-2 py-1 rounded-full">
        4
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="articles.html">
       <i class="fas fa-newspaper sidebar-icon">
       </i>
       <span>
        TCG Articles
       </span>
       <span class="ml-auto bg-purple-500 text-white text-xs px-2 py-1 rounded-full">
        5
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="blog.html">
       <i class="fas fa-blog sidebar-icon">
       </i>
       <span>
        Hatake Blog
       </span>
       <span class="ml-auto bg-pink-500 text-white text-xs px-2 py-1 rounded-full">
        1
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="events.html">
       <i class="fas fa-calendar sidebar-icon">
       </i>
       <span>
        Events
       </span>
       <span class="ml-auto bg-yellow-500 text-white text-xs px-2 py-1 rounded-full">
        7
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="collection.html">
       <i class="fas fa-layer-group sidebar-icon">
       </i>
       <span>
        My Collection
       </span>
       <span class="ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full">
        8
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="deck-builder.html">
       <i class="fas fa-hammer sidebar-icon">
       </i>
       <span>
        Deck Builder
       </span>
       <span class="ml-auto bg-indigo-500 text-white text-xs px-2 py-1 rounded-full">
        6
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="shop.html">
       <i class="fas fa-store sidebar-icon">
       </i>
       <span>
        Shop
       </span>
       <span class="ml-auto bg-green-600 text-white text-xs px-2 py-1 rounded-full">
        10
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="marketplace.html">
       <i class="fas fa-shopping-bag sidebar-icon">
       </i>
       <span>
        Marketplace
       </span>
       <span class="ml-auto bg-blue-600 text-white text-xs px-2 py-1 rounded-full">
        11
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="trades.html">
       <i class="fas fa-exchange-alt sidebar-icon">
       </i>
       <span>
        Trades
       </span>
       <span class="ml-auto bg-orange-600 text-white text-xs px-2 py-1 rounded-full">
        12
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="profile.html">
       <i class="fas fa-user sidebar-icon">
       </i>
       <span>
        Profile
       </span>
       <span class="ml-auto bg-teal-500 text-white text-xs px-2 py-1 rounded-full">
        13
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="settings.html">
       <i class="fas fa-cog sidebar-icon">
       </i>
       <span>
        Settings
       </span>
       <span class="ml-auto bg-gray-500 text-white text-xs px-2 py-1 rounded-full">
        14
       </span>
      </a>
      <a class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" href="about.html">
       <i class="fas fa-info-circle sidebar-icon">
       </i>
       <span>
        About Us
       </span>
       <span class="ml-auto bg-yellow-600 text-white text-xs px-2 py-1 rounded-full">
        15
       </span>
      </a>
      <button class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors w-full text-left" id="logoutButton">
       <i class="fas fa-sign-out-alt sidebar-icon">
       </i>
       <span>
        Logout
       </span>
      </button>
     </nav>
    </div>
    <!-- User Profile Section -->
    <div class="p-4 border-t border-gray-200 dark:border-gray-700 mt-auto">
     <div class="flex items-center space-x-3">
      <img alt="ernst" class="w-10 h-10 rounded-full" id="sidebarUserAvatar" src="https://ui-avatars.com/api/?name=ernst&amp;background=random"/>
      <div class="flex-1 min-w-0">
       <p class="text-sm font-medium text-gray-900 dark:text-white truncate" id="sidebarUserName">
        ernst
       </p>
       <p class="text-xs text-gray-500 dark:text-gray-400" id="sidebarUserLevel">
        Lvl 16
       </p>
      </div>
     </div>
    </div>
   </div>
   <!-- Main Feed Area -->
   <div class="flex-1 ml-64 p-6">
    <div class="max-w-4xl mx-auto">
     <!-- Post Creation -->
     <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6">
      <div class="flex items-start space-x-4">
       <img alt="User Avatar" class="w-12 h-12 rounded-full" id="postUserAvatar" src="https://ui-avatars.com/api/?name=User&amp;background=random"/>
       <div class="flex-1">
        <div class="relative">
         <textarea class="w-full p-4 border border-gray-300 dark:border-gray-600 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-200" id="postContent" placeholder="What's on your mind? Use @ to mention, # for tags, and [Card Name] for cards..." rows="3"></textarea>
         <!-- Autocomplete Suggestions -->
         <div class="absolute top-full left-0 right-0 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg mt-1 hidden suggestions-container" id="suggestionsContainer">
          <!-- Suggestions will be populated here -->
         </div>
        </div>
        <div class="flex items-center justify-between mt-4">
         <div class="flex items-center space-x-4">
          <button class="flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors" id="attachImageButton">
           <i class="fas fa-image">
           </i>
           <span class="text-sm">
            Attach Image/Video (Optional)
           </span>
          </button>
          <input accept="image/*,video/*" class="hidden" id="mediaInput" type="file"/>
         </div>
         <button class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium transition-colors" id="postButton">
          Post
         </button>
        </div>
       </div>
      </div>
     </div>
     <!-- Feed Tabs -->
     <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md mb-6">
      <div class="flex border-b border-gray-200 dark:border-gray-700">
       <button class="feed-tab active flex-1 py-4 px-6 text-center font-medium transition-colors" data-feed-filter="all">
        For You
        <span class="ml-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full">
         23
        </span>
       </button>
       <button class="feed-tab flex-1 py-4 px-6 text-center font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors" data-feed-filter="friends">
        Friends
        <span class="ml-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full">
         24
        </span>
       </button>
       <button class="feed-tab flex-1 py-4 px-6 text-center font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors" data-feed-filter="groups">
        Groups
        <span class="ml-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full">
         25
        </span>
       </button>
      </div>
     </div>
     <!-- Posts Container -->
     <div id="postsContainer">
      <!-- Posts will be loaded here -->
     </div>
    </div>
   </div>
   <!-- Right Sidebar -->
   <div class="w-80 bg-white dark:bg-gray-800 shadow-lg fixed right-0 top-16 bottom-0 overflow-y-auto">
    <!-- Who to Follow -->
    <div class="p-6 border-b border-gray-200 dark:border-gray-700">
     <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">
      Who to Follow
     </h3>
     <div id="whoToFollowContainer">
      <!-- Suggestions will be loaded here -->
     </div>
    </div>
    <!-- Trending -->
    <div class="p-6">
     <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">
      Trending
     </h3>
     <div id="trendingContainer">
      <!-- Trending topics will be loaded here -->
     </div>
    </div>
   </div>
  </div>
  <!-- Loading Overlay -->
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden" id="loadingOverlay">
   <div class="bg-white dark:bg-gray-800 rounded-lg p-6 flex items-center space-x-4">
    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500">
    </div>
    <span class="text-gray-800 dark:text-white">
     Loading...
    </span>
   </div>
  </div>
  <!-- Media Preview Modal -->
  <div class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden" id="mediaPreviewModal">
   <div class="bg-white dark:bg-gray-800 rounded-lg p-4 max-w-2xl max-h-full overflow-auto">
    <div class="flex justify-between items-center mb-4">
     <h3 class="text-lg font-semibold text-gray-800 dark:text-white">
      Media Preview
     </h3>
     <button class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300" id="closeMediaPreview">
      <i class="fas fa-times">
      </i>
     </button>
    </div>
    <div id="mediaPreviewContent">
     <!-- Media preview will be shown here -->
    </div>
    <div class="flex justify-end space-x-3 mt-4">
     <button class="px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200" id="cancelMediaUpload">
      Cancel
     </button>
     <button class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg" id="confirmMediaUpload">
      Use This Media
     </button>
    </div>
   </div>
  </div>
  <!-- Post Options Modal -->
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden" id="postOptionsModal">
   <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md">
    <div class="p-6">
     <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">
      Post Options
     </h3>
     <div class="space-y-3">
      <button class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" id="editPostOption">
       <i class="fas fa-edit mr-3 text-blue-500">
       </i>
       Edit Post
      </button>
      <button class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-red-600" id="deletePostOption">
       <i class="fas fa-trash mr-3">
       </i>
       Delete Post
      </button>
     </div>
     <div class="flex justify-end space-x-3 mt-6">
      <button class="px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200" id="cancelPostOptions">
       Cancel
      </button>
     </div>
    </div>
   </div>
  </div>
  <!-- Comment Modal -->
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden" id="commentModal">
   <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] overflow-hidden">
    <div class="p-6 border-b border-gray-200 dark:border-gray-700">
     <div class="flex justify-between items-center">
      <h3 class="text-lg font-semibold text-gray-800 dark:text-white">
       Comments
      </h3>
      <button class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300" id="closeCommentModal">
       <i class="fas fa-times">
       </i>
      </button>
     </div>
    </div>
    <div class="p-6 max-h-96 overflow-y-auto" id="commentsContainer">
     <!-- Comments will be loaded here -->
    </div>
    <div class="p-6 border-t border-gray-200 dark:border-gray-700">
     <div class="flex space-x-3">
      <img alt="User Avatar" class="w-8 h-8 rounded-full" src="https://ui-avatars.com/api/?name=User&amp;background=random"/>
      <div class="flex-1">
       <textarea class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-200" id="commentInput" placeholder="Write a comment..." rows="2"></textarea>
       <div class="flex justify-end mt-2">
        <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors" id="submitComment">
         Comment
        </button>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <!-- Likes Modal -->
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden" id="likesModal">
   <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md max-h-[60vh] overflow-hidden">
    <div class="p-6 border-b border-gray-200 dark:border-gray-700">
     <div class="flex justify-between items-center">
      <h3 class="text-lg font-semibold text-gray-800 dark:text-white">
       Likes
      </h3>
      <button class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300" id="closeLikesModal">
       <i class="fas fa-times">
       </i>
      </button>
     </div>
    </div>
    <div class="p-6 max-h-80 overflow-y-auto" id="likesContainer">
     <!-- Likes will be loaded here -->
    </div>
   </div>
  </div>
  <!-- User Profile Modal -->
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden" id="userProfileModal">
   <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg">
    <div class="p-6">
     <div class="flex justify-between items-start mb-6">
      <div class="flex items-center space-x-4">
       <img alt="User Avatar" class="w-16 h-16 rounded-full" id="modalUserAvatar"/>
       <div>
        <h3 class="text-xl font-semibold text-gray-800 dark:text-white" id="modalUserName">
        </h3>
        <p class="text-gray-600 dark:text-gray-400" id="modalUserHandle">
        </p>
       </div>
      </div>
      <button class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300" id="closeUserProfileModal">
       <i class="fas fa-times">
       </i>
      </button>
     </div>
     <div class="space-y-4">
      <div class="flex justify-between">
       <span class="text-gray-600 dark:text-gray-400">
        Posts
       </span>
       <span class="font-semibold text-gray-800 dark:text-white" id="modalUserPosts">
        0
       </span>
      </div>
      <div class="flex justify-between">
       <span class="text-gray-600 dark:text-gray-400">
        Followers
       </span>
       <span class="font-semibold text-gray-800 dark:text-white" id="modalUserFollowers">
        0
       </span>
      </div>
      <div class="flex justify-between">
       <span class="text-gray-600 dark:text-gray-400">
        Following
       </span>
       <span class="font-semibold text-gray-800 dark:text-white" id="modalUserFollowing">
        0
       </span>
      </div>
     </div>
     <div class="flex space-x-3 mt-6">
      <button class="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg font-medium transition-colors" id="followUserButton">
       Follow
      </button>
      <button class="flex-1 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 py-2 px-4 rounded-lg font-medium transition-colors" id="messageUserButton">
       Message
      </button>
     </div>
    </div>
   </div>
  </div>
  <!-- Share Modal -->
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden" id="shareModal">
   <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md">
    <div class="p-6">
     <div class="flex justify-between items-center mb-6">
      <h3 class="text-lg font-semibold text-gray-800 dark:text-white">
       Share Post
      </h3>
      <button class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300" id="closeShareModal">
       <i class="fas fa-times">
       </i>
      </button>
     </div>
     <div class="space-y-3">
      <button class="w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" id="shareToFeed">
       <i class="fas fa-share text-blue-500">
       </i>
       <span class="text-gray-800 dark:text-white">
        Share to Feed
       </span>
      </button>
      <button class="w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" id="copyLink">
       <i class="fas fa-link text-green-500">
       </i>
       <span class="text-gray-800 dark:text-white">
        Copy Link
       </span>
      </button>
      <button class="w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" id="shareToTwitter">
       <i class="fab fa-twitter text-blue-400">
       </i>
       <span class="text-gray-800 dark:text-white">
        Share to Twitter
       </span>
      </button>
     </div>
    </div>
   </div>
  </div>
  <!-- Report Modal -->
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden" id="reportModal">
   <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md">
    <div class="p-6">
     <div class="flex justify-between items-center mb-6">
      <h3 class="text-lg font-semibold text-gray-800 dark:text-white">
       Report Post
      </h3>
      <button class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300" id="closeReportModal">
       <i class="fas fa-times">
       </i>
      </button>
     </div>
     <form id="reportForm">
      <div class="space-y-4">
       <div>
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
         Reason for reporting
        </label>
        <select class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200" id="reportReason" required="">
         <option value="">
          Select a reason
         </option>
         <option value="spam">
          Spam
         </option>
         <option value="harassment">
          Harassment
         </option>
         <option value="inappropriate">
          Inappropriate content
         </option>
         <option value="copyright">
          Copyright violation
         </option>
         <option value="other">
          Other
         </option>
        </select>
       </div>
       <div>
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
         Additional details (optional)
        </label>
        <textarea class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200" id="reportDetails" placeholder="Provide more details about the issue..." rows="3"></textarea>
       </div>
      </div>
      <div class="flex justify-end space-x-3 mt-6">
       <button class="px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200" id="cancelReport" type="button">
        Cancel
       </button>
       <button class="px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors" type="submit">
        Submit Report
       </button>
      </div>
     </form>
    </div>
   </div>
  </div>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js">
  </script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js">
  </script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js">
  </script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-storage-compat.js">
  </script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-functions-compat.js">
  </script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-analytics-compat.js">
  </script>
  <script src="js/auth.js">
  </script>
  <script src="js/mobile-navigation-fixed.js">
  </script>
  <!-- Load the rebuilt card system first -->
  <script type="module" src="js/card-system-rebuild.js"></script>
  <!-- Then load the original app.js with card system integration -->
  <script src="js/app.js"></script>
  <script type="module" src="js/card-hover.js"></script>
  <script src="js/darkmode.js">
  </script>
  <div class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-[1001]" id="cartModal">
   <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg flex flex-col" style="height: 90vh; max-height: 800px;">
    <div class="flex justify-between items-center p-4 border-b dark:border-gray-700">
     <h2 class="text-xl font-bold">
      Shopping Cart
     </h2>
     <button class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200" id="closeCartModal">
      <i class="fas fa-times text-xl">
      </i>
     </button>
    </div>
    <div class="flex-1 overflow-y-auto p-4" id="cartItems">
     <!-- Cart items will be populated here -->
    </div>
    <div class="border-t dark:border-gray-700 p-4">
     <div class="flex justify-between items-center mb-4">
      <span class="text-lg font-semibold">
       Total:
      </span>
      <span class="text-lg font-bold text-blue-600" id="cartTotal">
       $0.00
      </span>
     </div>
     <button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition-colors" id="checkoutButton">
      Proceed to Checkout
     </button>
    </div>
   </div>
  </div>
 </body>
</html>
