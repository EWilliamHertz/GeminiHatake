<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Settings - HatakeSocial</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
    <link href="css/style.css" rel="stylesheet"/>
    <link href="/manifest.json" rel="manifest"/>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-200 font-sans">
<div class="flex h-screen flex-col">
    <header class="h-28 flex items-center justify-between px-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800">
        <div class="flex items-center">
            <button class="lg:hidden mr-4 text-gray-600 dark:text-gray-300" id="sidebar-toggle">
                <i class="fas fa-bars text-xl"></i>
            </button>
            <a class="flex flex-col items-center space-y-1" href="app.html">
                <img alt="HatakeSocial Logo" class="h-16" src="https://i.imgur.com/B06rBhI.png"/>
            </a>
        </div>
        <div class="relative flex-grow max-w-xl mx-4">
            <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
            <input class="w-full pl-12 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-full bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" id="main-search-bar" placeholder="Search for cards, users, or articles..." type="text"/>
        </div>
        <div class="flex items-center space-x-5" id="user-actions">
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden">
        <div class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden lg:hidden" id="sidebar-overlay"></div>
        <aside class="w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex-shrink-0 flex flex-col fixed inset-y-0 left-0 z-50 lg:relative lg:translate-x-0 -translate-x-full transition-transform duration-300 ease-in-out" id="sidebar">
            <nav class="flex-1 px-4 py-6 space-y-2 overflow-y-auto">
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="app.html"><i class="fas fa-home w-6 text-center"></i><span class="ml-3">Feed</span></a>
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="messages.html"><i class="fas fa-comments w-6 text-center"></i><span class="ml-3">Messages</span></a>
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="community.html"><i class="fas fa-users w-6 text-center"></i><span class="ml-3">Community</span></a>
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="articles.html?type=tcg"><i class="fas fa-newspaper w-6 text-center"></i><span class="ml-3">TCG Articles</span></a>
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="articles.html?type=blog"><i class="fas fa-blog w-6 text-center"></i><span class="ml-3">Hatake Blog</span></a>
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="events.html"><i class="fas fa-calendar-alt w-6 text-center"></i><span class="ml-3">Events</span></a>
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="my_collection.html"><i class="fas fa-layer-group w-6 text-center"></i><span class="ml-3">My Collection</span></a>
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="deck.html"><i class="fas fa-book-open w-6 text-center"></i><span class="ml-3">Deck Builder</span></a>
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="shop.html"><i class="fas fa-shopping-cart w-6 text-center"></i><span class="ml-3">Shop</span></a>
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="marketplace.html"><i class="fas fa-store w-6 text-center"></i><span class="ml-3">Marketplace</span></a>
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="trades.html"><i class="fas fa-exchange-alt w-6 text-center"></i><span class="ml-3">Trades</span></a>
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="profile.html"><i class="fas fa-user w-6 text-center"></i><span class="ml-3">Profile</span></a>
                <a class="flex items-center px-4 py-2 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-md" href="settings.html"><i class="fas fa-cog w-6 text-center"></i><span class="ml-3">Settings</span></a>
                <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="about.html"><i class="fas fa-info-circle w-6 text-center"></i><span class="ml-3">About Us</span></a>
            </nav>
            <div class="p-4 border-t border-gray-200 dark:border-gray-700" id="auth-container-sidebar"></div>
        </aside>

        <main class="flex-1 flex flex-col overflow-y-auto">
            <div class="container mx-auto px-4 py-8 settings-page-container">
                <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-8">Settings</h1>
                <div class="md:flex md:space-x-8" id="settings-page-container-inner">
                    <aside class="md:w-1/4 mb-8 md:mb-0">
                        <nav class="space-y-1">
                            <button class="settings-nav-btn w-full text-left px-4 py-2 rounded-md font-semibold bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-200" data-section="profile"><i class="fas fa-user-edit mr-2"></i> Profile &amp; Address</button>
                            <button class="settings-nav-btn w-full text-left px-4 py-2 rounded-md font-semibold text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700" data-section="privacy"><i class="fas fa-shield-alt mr-2"></i> Privacy</button>
                            <button class="settings-nav-btn w-full text-left px-4 py-2 rounded-md font-semibold text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700" data-section="notifications"><i class="fas fa-bell mr-2"></i> Notifications</button>
                            <button class="settings-nav-btn w-full text-left px-4 py-2 rounded-md font-semibold text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700" data-section="account"><i class="fas fa-id-card mr-2"></i> Account</button>
                            <button class="settings-nav-btn w-full text-left px-4 py-2 rounded-md font-semibold text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700" data-section="security"><i class="fas fa-lock mr-2"></i> Security</button>
                            <button class="settings-nav-btn w-full text-left px-4 py-2 rounded-md font-semibold text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700" data-section="display"><i class="fas fa-desktop mr-2"></i> Display</button>
                            <button class="settings-nav-btn w-full text-left px-4 py-2 rounded-md font-semibold text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700" data-section="payouts"><i class="fas fa-university mr-2"></i> Sales &amp; Payouts</button>
                            <button class="settings-nav-btn w-full text-left px-4 py-2 rounded-md font-semibold text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700" data-section="shipping"><i class="fas fa-shipping-fast mr-2"></i> Shipping</button>
                            <button class="settings-nav-btn w-full text-left px-4 py-2 rounded-md font-semibold text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700" data-section="app"><i class="fas fa-mobile-alt mr-2"></i> App</button>
                        </nav>
                    </aside>
                    <div class="md:w-3/4">
                        <section class="settings-section bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md" id="settings-profile">
                            <form id="profile-settings-form">
                                <h2 class="text-2xl font-bold mb-6 border-b pb-4 dark:border-gray-700 dark:text-white">Public Profile</h2>
                                <div class="flex items-center space-x-6 mb-6">
                                    <img class="w-24 h-24 rounded-full object-cover" id="profile-pic-preview" src="https://placehold.co/96x96"/>
                                    <div>
                                        <label class="cursor-pointer px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full hover:bg-gray-300 dark:hover:bg-gray-600" for="profile-pic-upload">Change Picture</label>
                                        <input accept="image/*" class="hidden" id="profile-pic-upload" type="file"/>
                                    </div>
                                </div>
                                <div class="mb-6">
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Profile Banner</label>
                                    <img class="w-full h-40 object-cover rounded-md mb-2" id="banner-pic-preview" src="https://placehold.co/600x200"/>
                                    <label class="cursor-pointer px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full hover:bg-gray-300 dark:hover:bg-gray-600" for="banner-pic-upload">Change Banner</label>
                                    <input accept="image/*" class="hidden" id="banner-pic-upload" type="file"/>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="displayName">Display Name</label>
                                        <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="displayName" type="text"/>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="handle">Username (@handle)</label>
                                        <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="handle" type="text"/>
                                    </div>
                                </div>
                                <div class="mt-6">
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="bio">Bio</label>
                                    <textarea class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="bio" rows="3"></textarea>
                                </div>
                                <div class="mt-6">
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="favoriteTcg">Favorite TCG</label>
                                    <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="favoriteTcg" type="text"/>
                                </div>
                                <div class="mt-8 pt-6 border-t dark:border-gray-600">
                                    <h2 class="text-2xl font-bold mb-6 dark:text-white">Player Personality</h2>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="playstyle">Primary Playstyle</label>
                                            <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="playstyle" placeholder="e.g., Aggro, Control, Combo" type="text"/>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="favoriteFormat">Favorite Format</label>
                                            <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="favoriteFormat" placeholder="e.g., Commander, Modern" type="text"/>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="petCard">Pet Card</label>
                                            <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="petCard" placeholder="A card you love, no matter what" type="text"/>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="nemesisCard">Nemesis Card</label>
                                            <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="nemesisCard" placeholder="A card you hate playing against" type="text"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-8 pt-6 border-t dark:border-gray-600">
                                    <h2 class="text-2xl font-bold mb-6 dark:text-white">Shipping Address</h2>
                                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">This address will be shared with your trade partners after a trade is accepted.</p>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div class="md:col-span-2">
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="address-street">Street Address</label>
                                            <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="address-street" type="text"/>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="address-city">City</label>
                                            <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="address-city" type="text"/>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="address-state">State / Province</label>
                                            <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="address-state" type="text"/>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="address-zip">ZIP / Postal Code</label>
                                            <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="address-zip" type="text"/>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="address-country">Country</label>
                                            <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="address-country" type="text"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-8 text-right">
                                    <button class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-full hover:bg-blue-700" id="save-profile-btn" type="submit">Save Profile &amp; Address</button>
                                </div>
                            </form>
                        </section>
                        
                        <section class="settings-section hidden bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md" id="settings-privacy">
                            <h2 class="text-2xl font-bold mb-6 border-b pb-4 dark:border-gray-700 dark:text-white">Privacy Settings</h2>
                            <div class="space-y-6">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <h3 class="font-medium text-gray-900 dark:text-white">Profile Visibility</h3>
                                        <p class="text-sm text-gray-500 dark:text-gray-400">Control who can see your profile page.</p>
                                    </div>
                                    <select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white" id="profile-visibility-select">
                                        <option>Public</option>
                                        <option>Friends Only</option>
                                        <option>Private</option>
                                    </select>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div>
                                        <h3 class="font-medium text-gray-900 dark:text-white">Collection Visibility</h3>
                                        <p class="text-sm text-gray-500 dark:text-gray-400">Control who can see your card collection.</p>
                                    </div>
                                    <select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white" id="collection-visibility-select">
                                        <option>Public</option>
                                        <option>Friends Only</option>
                                        <option>Private</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-8 text-right">
                                <button class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-full hover:bg-blue-700" id="save-privacy-btn">Save Privacy Settings</button>
                            </div>
                        </section>

                        <section class="settings-section hidden bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md" id="settings-notifications">
                            <h2 class="text-2xl font-bold mb-6 border-b pb-4 dark:border-gray-700 dark:text-white">Notification Settings</h2>
                            <div class="space-y-6">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <h3 class="font-medium text-gray-900 dark:text-white">Email Notifications</h3>
                                        <p class="text-sm text-gray-500 dark:text-gray-400">Receive notifications for messages, trades, etc. via email.</p>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input class="sr-only peer" id="email-notifications-toggle" type="checkbox"/>
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
                                    </label>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div>
                                        <h3 class="font-medium text-gray-900 dark:text-white">Push Notifications</h3>
                                        <p class="text-sm text-gray-500 dark:text-gray-400">Receive push notifications on your installed app or device.</p>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input class="sr-only peer" id="push-notifications-toggle" type="checkbox"/>
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
                                    </label>
                                </div>
                            </div>
                            <div class="mt-8 text-right">
                                <button class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-full hover:bg-blue-700" id="save-notifications-btn">Save Notification Settings</button>
                            </div>
                        </section>

                        <section class="settings-section hidden bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md" id="settings-account">
                            <h2 class="text-2xl font-bold mb-6 border-b pb-4 dark:border-gray-700 dark:text-white">Account</h2>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Email Address</label>
                                <p class="mt-1 text-gray-500 dark:text-gray-400" id="account-email"></p>
                            </div>
                            <div class="setting-item">
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="primary-currency">Preferred Currency</label>
                                <select class="mt-1 w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="primary-currency">
                                    <option value="USD">United States Dollar (USD)</option>
                                    <option value="SEK">Swedish Krona (SEK)</option>
                                    <option value="EUR">Euro (EUR)</option>
                                    <option value="GBP">British Pound (GBP)</option>
                                </select>
                                <p class="mt-2 text-xs text-gray-500">This will be the default currency for all prices across the site.</p>
                            </div>
                            <div class="mt-6">
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="price-source-select">Default Pricing Source</label>
                                <select class="mt-1 block w-full md:w-1/2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="price-source-select">
                                    <option value="eur">Cardmarket (EUR)</option>
                                    <option value="usd">TCGplayer (USD)</option>
                                </select>
                                <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">Choose your preferred price source when using percentage-based pricing for your listings.</p>
                            </div>
                            <div class="mt-8 pt-6 border-t border-red-200 dark:border-red-900/50">
                                <h3 class="text-lg font-semibold text-red-700 dark:text-red-400">Danger Zone</h3>
                                <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">Deleting your account is a permanent action and cannot be undone.</p>
                                <button class="mt-4 px-4 py-2 bg-red-600 text-white font-semibold rounded-full hover:bg-red-700" id="delete-account-btn">Delete Account</button>
                            </div>
                        </section>

                        <section class="settings-section hidden bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md" id="settings-security">
                            <h2 class="text-2xl font-bold mb-6 border-b pb-4 dark:border-gray-700 dark:text-white">Security</h2>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Password</label>
                                <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">To change your password, we will send a secure reset link to your email address.</p>
                                <button class="mt-4 px-4 py-2 bg-gray-600 dark:bg-gray-700 text-white font-semibold rounded-full hover:bg-gray-700 dark:hover:bg-gray-600" id="reset-password-btn">Send Password Reset Email</button>
                            </div>
                            <div class="mt-8 pt-6 border-t dark:border-gray-700">
                                <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Multi-Factor Authentication (MFA)</h3>
                                <div id="mfa-section"></div>
                            </div>
                        </section>

                        <section class="settings-section hidden bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md" id="settings-display">
                            <h2 class="text-2xl font-bold mb-6 border-b pb-4 dark:border-gray-700 dark:text-white">Display Settings</h2>
                            <div class="space-y-6">
                                <div>
                                    <h3 class="text-lg font-medium text-gray-900 dark:text-white">Date Format</h3>
                                    <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">Choose how dates are displayed across the site.</p>
                                    <select class="mt-2 block w-full md:w-1/2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="date-format-select">
                                        <option value="dmy">DD/MM/YYYY (European)</option>
                                        <option value="mdy">MM/DD/YYYY (American)</option>
                                    </select>
                                </div>
                                <div class="pt-6 border-t dark:border-gray-700">
                                    <h3 class="text-lg font-medium text-gray-900 dark:text-white">Messenger Widget</h3>
                                    <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">Control the visibility of the floating messenger widget.</p>
                                    <div class="mt-2 flex items-center">
                                        <input class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500" id="messenger-widget-toggle" type="checkbox"/>
                                        <label class="ml-2 block text-sm text-gray-900 dark:text-gray-300" for="messenger-widget-toggle">Show floating messenger widget on all pages.</label>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-8 text-right">
                                <button class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-full hover:bg-blue-700" id="save-display-settings-btn">Save Display Settings</button>
                            </div>
                        </section>

                        <section class="settings-section hidden bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md" id="settings-payouts">
                            <form id="payout-settings-form">
                                <h2 class="text-2xl font-bold mb-6 border-b pb-4 dark:border-gray-700 dark:text-white">Sales &amp; Payout Settings</h2>
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="iban">IBAN</label>
                                        <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="iban" placeholder="SE00 0000 0000 0000 0000 0000" type="text"/>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="swift">SWIFT / BIC</label>
                                        <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="swift" placeholder="HANDSESS" type="text"/>
                                    </div>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="clearing-number">Clearing Number</label>
                                            <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="clearing-number" placeholder="e.g., 9960" type="text"/>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="bank-account">Bank Account Number</label>
                                            <input class="mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="bank-account" placeholder="e.g., 123456789" type="text"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-8 text-right">
                                    <button class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-full hover:bg-blue-700" id="save-payout-btn" type="submit">Save Payout Settings</button>
                                </div>
                            </form>
                        </section>

                        <section class="settings-section hidden bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md" id="settings-shipping">
                            <h2 class="text-2xl font-bold mb-6 border-b pb-4 dark:border-gray-700 dark:text-white">Shipping Profiles</h2>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-6">Set your default shipping costs. These will be used when you list items for sale. All prices should be in your primary currency (<span class="font-bold" id="shipping-currency-display">SEK</span>).</p>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="shippingDomestic">Domestic (Your Country)</label>
                                    <input class="mt-1 block w-full md:w-1/2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="shippingDomestic" placeholder="e.g., 50.00" type="number"/>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="shippingEurope">Europe</label>
                                    <input class="mt-1 block w-full md:w-1/2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="shippingEurope" placeholder="e.g., 150.00" type="number"/>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="shippingNorthAmerica">North America</label>
                                    <input class="mt-1 block w-full md:w-1/2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="shippingNorthAmerica" placeholder="e.g., 250.00" type="number"/>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="shippingRestOfWorld">Rest of World</label>
                                    <input class="mt-1 block w-full md:w-1/2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 dark:bg-gray-700" id="shippingRestOfWorld" placeholder="e.g., 350.00" type="number"/>
                                </div>
                                <div class="mt-8 text-right">
                                    <button class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-full hover:bg-blue-700" id="save-shipping-btn" type="button">Save Shipping Profile</button>
                                </div>
                            </div>
                        </section>

                        <section class="settings-section hidden" id="settings-app">
                            <div class="space-y-6">
                                <div class="install-card">
                                    <div class="flex items-center justify-between">
                                        <div class="flex-1">
                                            <h2 class="text-2xl font-bold mb-2"><i class="fas fa-mobile-alt mr-3"></i>Install HatakeSocial App</h2>
                                            <p class="text-blue-100 mb-4">Get the full app experience with offline access, push notifications, and faster loading times.</p>
                                            <div class="flex space-x-4">
                                                <button class="install-btn" id="install-app-btn"><i class="fas fa-download mr-2"></i> Install App</button>
                                                <button class="share-btn" id="share-app-btn"><i class="fas fa-share mr-2"></i> Share App</button>
                                            </div>
                                        </div>
                                        <div class="hidden md:block">
                                            <i class="fas fa-mobile-alt text-6xl text-blue-200"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                    <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">App Features</h3>
                                    <div class="feature-grid">
                                        <div class="feature-card">
                                            <i class="fas fa-wifi-slash text-2xl text-blue-600 mb-3"></i>
                                            <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Offline Access</h4>
                                            <p class="text-sm text-gray-600 dark:text-gray-400">Browse your collection and decks even without internet</p>
                                        </div>
                                        <div class="feature-card">
                                            <i class="fas fa-bell text-2xl text-green-600 mb-3"></i>
                                            <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Push Notifications</h4>
                                            <p class="text-sm text-gray-600 dark:text-gray-400">Get notified about trades, messages, and events</p>
                                        </div>
                                        <div class="feature-card">
                                            <i class="fas fa-rocket text-2xl text-purple-600 mb-3"></i>
                                            <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Faster Loading</h4>
                                            <p class="text-sm text-gray-600 dark:text-gray-400">Optimized performance for mobile devices</p>
                                        </div>
                                        <div class="feature-card">
                                            <i class="fas fa-home text-2xl text-orange-600 mb-3"></i>
                                            <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Home Screen Access</h4>
                                            <p class="text-sm text-gray-600 dark:text-gray-400">Quick access from your device's home screen</p>
                                        </div>
                                        <div class="feature-card">
                                            <i class="fas fa-sync text-2xl text-red-600 mb-3"></i>
                                            <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Background Sync</h4>
                                            <p class="text-sm text-gray-600 dark:text-gray-400">Stay updated with automatic background synchronization</p>
                                        </div>
                                        <div class="feature-card">
                                            <i class="fas fa-shield-alt text-2xl text-indigo-600 mb-3"></i>
                                            <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Enhanced Security</h4>
                                            <p class="text-sm text-gray-600 dark:text-gray-400">Secure app environment with biometric authentication</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                    <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Installation Instructions</h3>
                                    <div class="platform-grid">
                                        <div class="platform-card">
                                            <div class="flex items-center mb-4">
                                                <i class="fab fa-android text-3xl text-green-600 mr-3"></i>
                                                <h4 class="text-lg font-semibold text-gray-900 dark:text-white">Android</h4>
                                            </div>
                                            <ol class="list-decimal list-inside space-y-2 text-sm text-gray-600 dark:text-gray-400">
                                                <li>Tap the menu button (⋮) in your browser</li>
                                                <li>Select "Add to Home Screen" or "Install App"</li>
                                                <li>Confirm the installation</li>
                                                <li>Find the app on your home screen</li>
                                            </ol>
                                        </div>
                                        <div class="platform-card">
                                            <div class="flex items-center mb-4">
                                                <i class="fab fa-apple text-3xl text-gray-800 dark:text-gray-200 mr-3"></i>
                                                <h4 class="text-lg font-semibold text-gray-900 dark:text-white">iOS (iPhone/iPad)</h4>
                                            </div>
                                            <ol class="list-decimal list-inside space-y-2 text-sm text-gray-600 dark:text-gray-400">
                                                <li>Tap the Share button (□↗) in Safari</li>
                                                <li>Scroll down and tap "Add to Home Screen"</li>
                                                <li>Customize the name if desired</li>
                                                <li>Tap "Add" to confirm</li>
                                            </ol>
                                        </div>
                                        <div class="platform-card">
                                            <div class="flex items-center mb-4">
                                                <i class="fab fa-windows text-3xl text-blue-600 mr-3"></i>
                                                <h4 class="text-lg font-semibold text-gray-900 dark:text-white">Windows</h4>
                                            </div>
                                            <ol class="list-decimal list-inside space-y-2 text-sm text-gray-600 dark:text-gray-400">
                                                <li>Look for the install icon (⊕) in the address bar</li>
                                                <li>Click the install icon or use Ctrl+Shift+A</li>
                                                <li>Click "Install" in the popup</li>
                                                <li>Access from Start Menu or Desktop</li>
                                            </ol>
                                        </div>
                                        <div class="platform-card">
                                            <div class="flex items-center mb-4">
                                                <i class="fab fa-apple text-3xl text-gray-800 dark:text-gray-200 mr-3"></i>
                                                <h4 class="text-lg font-semibold text-gray-900 dark:text-white">macOS</h4>
                                            </div>
                                            <ol class="list-decimal list-inside space-y-2 text-sm text-gray-600 dark:text-gray-400">
                                                <li>Look for the install icon in the address bar</li>
                                                <li>Click the install icon</li>
                                                <li>Click "Install" to confirm</li>
                                                <li>Find the app in Applications or Dock</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                    <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">App Status</h3>
                                    <div class="space-y-3">
                                        <div class="flex items-center justify-between">
                                            <span class="text-gray-700 dark:text-gray-300">Installation Status</span>
                                            <span class="px-3 py-1 rounded-full text-sm bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200" id="install-status">Not Installed</span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-gray-700 dark:text-gray-300">Service Worker</span>
                                            <span class="px-3 py-1 rounded-full text-sm bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200" id="sw-status">Checking...</span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-gray-700 dark:text-gray-300">Offline Support</span>
                                            <span class="px-3 py-1 rounded-full text-sm bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200" id="offline-status">Checking...</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-storage-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-functions-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-analytics-compat.js"></script>
<script src="js/auth.js"></script>
<script src="js/settings.js"></script>
<script src="js/messenger.js"></script>
<script src="js/darkmode.js"></script>
<script src="js/cart.js"></script>
<div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" id="loginModal">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6">
        <div class="flex justify-between items-center">
            <h2 class="text-xl font-bold">Login</h2>
            <button class="text-gray-500 hover:text-gray-800 dark:hover:text-white text-2xl font-bold" id="closeLoginModal">×</button>
        </div>
        <form class="mt-4 space-y-4" id="loginForm">
            <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="loginEmail" placeholder="Email" required="" type="email"/>
            <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="loginPassword" placeholder="Password" required="" type="password"/>
            <p class="text-red-500 text-sm hidden" id="login-error-message"></p>
            <button class="w-full bg-blue-600 text-white font-semibold py-2 rounded-md hover:bg-blue-700" type="submit">Login</button>
            <button class="w-full bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold py-2 rounded-md border dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center justify-center" id="googleLoginButton" type="button">
                <img alt="Google icon" class="w-5 h-5 mr-2" src="https://www.svgrepo.com/show/475656/google-color.svg"/>Sign in with Google
            </button>
        </form>
    </div>
</div>
<div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" id="registerModal">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6">
        <div class="flex justify-between items-center">
            <h2 class="text-xl font-bold">Register</h2>
            <button class="text-gray-500 hover:text-gray-800 dark:hover:text-white text-2xl font-bold" id="closeRegisterModal">×</button>
        </div>
        <form class="mt-4 space-y-4" id="registerForm">
            <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerEmail" placeholder="Email" required="" type="email"/>
            <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerPassword" placeholder="Password" required="" type="password"/>
            <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerCity" placeholder="City" type="text"/>
            <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerCountry" placeholder="Country" type="text"/>
            <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerFavoriteTcg" placeholder="Favorite TCG" type="text"/>
            <p class="text-red-500 text-sm hidden" id="register-error-message"></p>
            <button class="w-full bg-blue-600 text-white font-semibold py-2 rounded-md hover:bg-blue-700" type="submit">Register</button>
            <button class="w-full bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold py-2 rounded-md border dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center justify-center" id="googleLoginButton" type="button">
                <img alt="Google icon" class="w-5 h-5 mr-2" src="https://www.svgrepo.com/show/475656/google-color.svg"/>Register with Google
            </button>
        </form>
    </div>
</div>
</body>
</html>