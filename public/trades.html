    <!DOCTYPE html>
    <html lang="en">
    <head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>
    Secure Trades - HatakeSocial
    </title>
    <script src="https://cdn.tailwindcss.com">
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" rel="stylesheet" type="text/css"/>
    <link href="css/style.css" rel="stylesheet"/>
    <style>
    #card-quick-view-tooltip {
                position: absolute;
                z-index: 100;
                pointer-events: none;
                border: 2px solid #000;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                width: 223px;
                height: 310px;
            }
    </style>
    <link href="/manifest.json" rel="manifest"/>
    </head>
    <body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-200 font-sans">
    
    <div class="flex min-h-screen">
    <div class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden lg:hidden" id="sidebar-overlay">
    </div>
    <aside class="w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex-shrink-0 flex flex-col fixed inset-y-0 left-0 z-50 lg:relative lg:translate-x-0 -translate-x-full transition-transform duration-300 ease-in-out" id="sidebar">
            <div class="h-28 flex items-center justify-center border-b border-gray-200 dark:border-gray-700 px-4">
        <a class="flex flex-col items-center space-y-1" href="app.html">
        <img alt="HatakeSocial Logo" class="h-16" onerror="this.onerror=null; this.src='https://placehold.co/150x40?text=HatakeSocial';" src="https://firebasestorage.googleapis.com/v0/b/hatakesocial-88b5e.firebasestorage.app/o/IMG_7951.png?alt=media&token=e7c2dc48-2836-4feb-9fc7-324aecacba6b"/>
        <span class="font-bold text-lg text-blue-600 dark:text-blue-400">
        HatakeSocial
        </span>
        </a>
        </div>
        <nav class="flex-1 px-4 py-6 space-y-2 overflow-y-auto">
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="app.html">
        <i class="fas fa-home w-6 text-center">
        </i>
        <span class="ml-3">
        Feed
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="messages.html">
        <i class="fas fa-comments w-6 text-center">
        </i>
        <span class="ml-3">
        Messages
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="community.html">
        <i class="fas fa-users w-6 text-center">
        </i>
        <span class="ml-3">
        Community
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="articles.html?type=tcg">
        <i class="fas fa-newspaper w-6 text-center">
        </i>
        <span class="ml-3">
        TCG Articles
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="articles.html?type=blog">
        <i class="fas fa-blog w-6 text-center">
        </i>
        <span class="ml-3">
        Hatake Blog
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="events.html">
        <i class="fas fa-calendar-alt w-6 text-center">
        </i>
        <span class="ml-3">
        Events
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="my_collection.html">
        <i class="fas fa-layer-group w-6 text-center">
        </i>
        <span class="ml-3">
        My Collection
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="deck.html">
        <i class="fas fa-book-open w-6 text-center">
        </i>
        <span class="ml-3">
        Deck Builder
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="shop.html">
        <i class="fas fa-shopping-cart w-6 text-center">
        </i>
        <span class="ml-3">
        Shop
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="marketplace.html">
        <i class="fas fa-store w-6 text-center">
        </i>
        <span class="ml-3">
        Marketplace
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="trades.html">
        <i class="fas fa-exchange-alt w-6 text-center">
        </i>
        <span class="ml-3">
        Trades
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="profile.html">
        <i class="fas fa-user w-6 text-center">
        </i>
        <span class="ml-3">
        Profile
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="settings.html">
        <i class="fas fa-cog w-6 text-center">
        </i>
        <span class="ml-3">
        Settings
        </span>
        </a>
        <a class="flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md" href="about.html">
        <i class="fas fa-info-circle w-6 text-center">
        </i>
        <span class="ml-3">
        About Us
        </span>
        </a>
        </nav>
        <div class="p-4 border-t border-gray-200 dark:border-gray-700 hidden" id="sidebar-user-info">
        </div>
    </aside>
    
        <div class="flex-1 flex flex-col">
        <header class="h-28 flex items-center justify-between px-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0">
    <div class="flex items-center">
        <button class="lg:hidden mr-4 text-gray-600 dark:text-gray-300 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 touch-manipulation relative" id="sidebar-toggle" style="min-width: 44px; min-height: 44px; z-index: 1000; position: relative;">
        <i class="fas fa-bars text-xl">
        </i>
        </button>
        <div class="relative">
        <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">
        </i>
        <input class="w-full md:w-96 pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-full bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" id="main-search-bar" placeholder="Search for cards, users, or articles..." type="text"/>
        </div>
    </div>
    <div class="flex items-center space-x-5" id="user-actions">
        <!-- Trade Basket Button -->
        <button id="trade-basket-btn" class="relative p-2 text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
            <i class="fas fa-shopping-basket text-xl"></i>
            <span id="trade-basket-counter" class="absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>
        </button>
        <!-- This container is dynamically filled by auth.js -->
    </div>
    </header>

        <!-- New Trading Interface (Default) -->
        <div class="flex-1 flex" id="new-trading-interface">
            <!-- Left Panel - Trade Window -->
            <div class="w-1/3 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col">
                <div class="p-4 border-b border-gray-200 dark:border-gray-700">
                    <h2 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center">
                        <i class="fas fa-handshake mr-2 text-blue-600"></i>
                        Current Trade
                    </h2>
                    <div class="mt-2 flex items-center justify-between text-sm text-gray-600 dark:text-gray-400">
                        <span id="trade-partner-name">Select a trading partner</span>
                        <button class="px-3 py-1 bg-green-600 text-white rounded-full text-xs hover:bg-green-700" id="start-tour-btn">
                            <i class="fas fa-question-circle mr-1"></i>Tour
                        </button>
                    </div>
                </div>
                
                <!-- Trade Sides -->
                <div class="flex-1 flex flex-col">
                    <!-- Your Side -->
                    <div class="flex-1 border-b border-gray-200 dark:border-gray-700">
                        <div class="p-3 bg-blue-50 dark:bg-blue-900/20 border-b border-gray-200 dark:border-gray-700">
                            <h3 class="font-medium text-blue-900 dark:text-blue-300">Your Offer</h3>
                            <div class="text-sm text-blue-700 dark:text-blue-400">
                                Value: <span id="your-trade-value">$0.00</span>
                            </div>
                        </div>
                        <div class="p-2 overflow-y-auto" id="your-trade-cards" style="max-height: 200px;">
                            <div class="text-center text-gray-500 dark:text-gray-400 py-8">
                                <i class="fas fa-plus-circle text-3xl mb-2"></i>
                                <p>Add cards from your collection</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Their Side -->
                    <div class="flex-1">
                        <div class="p-3 bg-red-50 dark:bg-red-900/20 border-b border-gray-200 dark:border-gray-700">
                            <h3 class="font-medium text-red-900 dark:text-red-300">Their Offer</h3>
                            <div class="text-sm text-red-700 dark:text-red-400">
                                Value: <span id="their-trade-value">$0.00</span>
                            </div>
                        </div>
                        <div class="p-2 overflow-y-auto" id="their-trade-cards" style="max-height: 200px;">
                            <div class="text-center text-gray-500 dark:text-gray-400 py-8">
                                <i class="fas fa-user-plus text-3xl mb-2"></i>
                                <p>Partner's cards will appear here</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Cash Balance Section -->
                <div class="p-4 border-t border-gray-200 dark:border-gray-700">
                    <h3 class="font-medium text-gray-900 dark:text-white mb-3">Cash Balance</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">You Add Cash</label>
                            <div class="relative">
                                <input type="number" id="your-cash-input" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="0.00" step="0.01" min="0">
                                <span class="absolute right-3 top-2 text-sm text-gray-500 dark:text-gray-400" id="your-currency-symbol">$</span>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">They Add Cash</label>
                            <div class="relative">
                                <input type="number" id="their-cash-input" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="0.00" step="0.01" min="0" disabled>
                                <span class="absolute right-3 top-2 text-sm text-gray-500 dark:text-gray-400" id="their-currency-symbol">$</span>
                            </div>
                        </div>
                    </div>
                    <div class="mt-3 text-center">
                        <div class="text-sm text-gray-600 dark:text-gray-400" id="trade-balance">Balanced</div>
                    </div>
                </div>

                <!-- Trade Actions -->
                <div class="p-4 border-t border-gray-200 dark:border-gray-700 space-y-2">
                    <button class="w-full px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:opacity-50" id="autobalance-btn" disabled>
                        <i class="fas fa-balance-scale mr-2"></i>Auto Balance
                    </button>
                    <button class="w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50" id="propose-trade-btn" disabled>
                        <i class="fas fa-paper-plane mr-2"></i>Propose Trade
                    </button>
                    <button class="w-full px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700" id="toggle-legacy-view">
                        <i class="fas fa-list mr-2"></i>View All Trades
                    </button>
                </div>
            </div>

            <!-- Right Panel - Binder Views -->
            <div class="flex-1 flex flex-col">
                <!-- Binder Tabs -->
                <div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700">
                    <div class="flex">
                        <button class="flex-1 px-4 py-3 text-center border-b-2 border-blue-600 text-blue-600 font-medium" data-binder="your" id="your-binder-tab">
                            Your Collection
                        </button>
                        <button class="flex-1 px-4 py-3 text-center border-b-2 border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300" data-binder="their" id="their-binder-tab" disabled>
                            Partner's Collection
                        </button>
                    </div>
                </div>
                
                <!-- Filters -->
                <div class="bg-gray-50 dark:bg-gray-900 p-4 border-b border-gray-200 dark:border-gray-700">
                    <div class="flex flex-wrap gap-4 items-center">
                        <!-- Game Filters -->
                        <div class="flex items-center space-x-2">
                            <label class="text-sm font-medium text-gray-700 dark:text-gray-300">Games:</label>
                            <label class="flex items-center">
                                <input type="checkbox" class="game-filter mr-1" data-game="mtg" checked>
                                <span class="text-sm">Magic</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="game-filter mr-1" data-game="pokemon" checked>
                                <span class="text-sm">Pokémon</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="game-filter mr-1" data-game="lorcana" checked>
                                <span class="text-sm">Lorcana</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="game-filter mr-1" data-game="gundam" checked>
                                <span class="text-sm">Gundam</span>
                            </label>
                        </div>
                        
                        <!-- Search -->
                        <div class="flex-1 max-w-md">
                            <input class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" id="binder-search" placeholder="Search cards..." type="text"/>
                        </div>
                        
                        <!-- View Toggle -->
                        <div class="flex items-center space-x-2">
                            <button class="p-2 bg-blue-600 text-white rounded-md" id="view-toggle-grid">
                                <i class="fas fa-th"></i>
                            </button>
                            <button class="p-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md" id="view-toggle-list">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Binder Content -->
                <div class="flex-1 overflow-y-auto p-4" id="binder-content">
                    <div class="text-center text-gray-500 dark:text-gray-400 py-8">
                        <i class="fas fa-spinner fa-spin text-3xl mb-2"></i>
                        <p>Loading collection...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Legacy Trade Management (Hidden by default) -->
        <main class="flex-1 overflow-y-auto p-6 container mx-auto hidden" id="legacy-trades-section">
        
        <div class="flex justify-between items-center mb-8 border-b pb-4 dark:border-gray-700">
        <h1 class="text-4xl font-extrabold text-gray-800 dark:text-white">
        Secure Trades
        </h1>
        <button class="hidden px-6 py-2 bg-green-600 text-white font-semibold rounded-full shadow-md hover:bg-green-700" id="propose-new-trade-btn">
        <i class="fas fa-plus mr-2">
        </i>
        Propose a New Trade
        </button>
        </div>
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-8" id="seller-onboarding-section">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
        Trade Securely
        </h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">
        For trades involving cash, we partner with
        <a class="text-blue-500 hover:underline font-semibold" href="https://escrow.com" target="_blank">
            Escrow.com
        </a>
        to ensure your funds are held securely until the trade is complete. Make sure your HatakeSocial email matches your Escrow.com account email.
        </p>
        </div>
        <div class="bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-500 text-blue-800 dark:text-blue-200 p-4 rounded-r-lg mb-6" role="alert">
        <div class="flex">
        <div class="py-1">
            <i class="fas fa-shield-alt text-2xl mr-4">
            </i>
        </div>
        <div>
            <p class="font-bold">
            HatakeSocial Buyer Protection
            </p>
            <p class="text-sm">
            All trades involving cash are protected by our Trustee service. Funds are held securely until both parties confirm shipment and receipt, ensuring a safe transaction for everyone.
            </p>
        </div>
        </div>
        </div>
        <!-- Trade Statistics -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
        <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md">
        <div class="flex items-center">
            <div class="p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg">
            <i class="fas fa-clock text-yellow-600 dark:text-yellow-400"></i>
            </div>
            <div class="ml-3">
            <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Pending Incoming</p>
            <p class="text-lg font-semibold text-gray-900 dark:text-white" id="pending-incoming-count">0</p>
            </div>
        </div>
        </div>
        <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md">
        <div class="flex items-center">
            <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg">
            <i class="fas fa-paper-plane text-blue-600 dark:text-blue-400"></i>
            </div>
            <div class="ml-3">
            <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Pending Outgoing</p>
            <p class="text-lg font-semibold text-gray-900 dark:text-white" id="pending-outgoing-count">0</p>
            </div>
        </div>
        </div>
        <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md">
        <div class="flex items-center">
            <div class="p-2 bg-green-100 dark:bg-green-900/30 rounded-lg">
            <i class="fas fa-check-circle text-green-600 dark:text-green-400"></i>
            </div>
            <div class="ml-3">
            <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Completed</p>
            <p class="text-lg font-semibold text-gray-900 dark:text-white" id="completed-trades-count">0</p>
            </div>
        </div>
        </div>
        <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md">
        <div class="flex items-center">
            <div class="p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg">
            <i class="fas fa-chart-line text-purple-600 dark:text-purple-400"></i>
            </div>
            <div class="ml-3">
            <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Total Value</p>
            <p class="text-lg font-semibold text-gray-900 dark:text-white" id="total-trade-value">$0.00</p>
            </div>
        </div>
        </div>
        </div>

        <div class="mb-6 border-b border-gray-200 dark:border-gray-700">
        <nav aria-label="Tabs" class="flex -mb-px space-x-8">
        <button class="trade-tab-button active" data-tab="incoming">
            <i class="fas fa-inbox mr-2"></i>Incoming Offers
            <span class="ml-2 px-2 py-1 text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 rounded-full" id="incoming-badge">0</span>
        </button>
        <button class="trade-tab-button" data-tab="outgoing">
            <i class="fas fa-paper-plane mr-2"></i>Outgoing Offers
            <span class="ml-2 px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full" id="outgoing-badge">0</span>
        </button>
        <button class="trade-tab-button" data-tab="history">
            <i class="fas fa-history mr-2"></i>Trade History
        </button>
        <button class="trade-tab-button" data-tab="analysis">
            <i class="fas fa-chart-bar mr-2"></i>Trade Analysis
        </button>
        <button class="trade-tab-button" data-tab="notifications">
            <i class="fas fa-bell mr-2"></i>Notifications
            <span class="ml-2 px-2 py-1 text-xs bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded-full hidden" id="notifications-badge">0</span>
        </button>
        </nav>
        </div>
        <div>
        <div class="trade-tab-content space-y-6" id="tab-content-incoming">
        <div class="text-center py-8">
            <i class="fas fa-inbox text-4xl text-gray-400 mb-4"></i>
            <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">No Incoming Offers</h3>
            <p class="text-gray-500 dark:text-gray-400">When someone sends you a trade offer, it will appear here.</p>
        </div>
        </div>
        <div class="trade-tab-content hidden space-y-6" id="tab-content-outgoing">
        <div class="text-center py-8">
            <i class="fas fa-paper-plane text-4xl text-gray-400 mb-4"></i>
            <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">No Outgoing Offers</h3>
            <p class="text-gray-500 dark:text-gray-400">Your sent trade offers will appear here.</p>
        </div>
        </div>
        <div class="trade-tab-content hidden space-y-6" id="tab-content-history">
        <div class="text-center py-8">
            <i class="fas fa-history text-4xl text-gray-400 mb-4"></i>
            <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">No Trade History</h3>
            <p class="text-gray-500 dark:text-gray-400">Your completed, cancelled, and rejected trades will appear here.</p>
        </div>
        </div>
        <div class="trade-tab-content hidden space-y-6" id="tab-content-analysis">
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Trade Analytics</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
            <h4 class="font-medium text-gray-700 dark:text-gray-300 mb-2">Success Rate</h4>
            <div class="bg-gray-200 dark:bg-gray-700 rounded-full h-4">
            <div class="bg-green-500 h-4 rounded-full" style="width: 0%" id="success-rate-bar"></div>
            </div>
            <p class="text-sm text-gray-500 dark:text-gray-400 mt-1" id="success-rate-text">0% (0 of 0 trades completed)</p>
            </div>
            <div>
            <h4 class="font-medium text-gray-700 dark:text-gray-300 mb-2">Average Trade Value</h4>
            <p class="text-2xl font-bold text-gray-900 dark:text-white" id="avg-trade-value">$0.00</p>
            </div>
            </div>
        </div>
        </div>
        <div class="trade-tab-content hidden space-y-6" id="tab-content-notifications">
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Trade Notifications</h3>
            <div id="trade-notifications-list">
            <div class="text-center py-8">
            <i class="fas fa-bell text-4xl text-gray-400 mb-4"></i>
            <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">No Notifications</h3>
            <p class="text-gray-500 dark:text-gray-400">Trade updates and notifications will appear here.</p>
            </div>
            </div>
        </div>
        </div>
        </div>
        </main>
        <div class="modal-overlay" id="propose-trade-modal">
        <div class="modal-content w-full max-w-6xl dark:bg-gray-800">
        <button class="close-button" id="close-trade-modal">
        ×
        </button>
        <h2 class="text-2xl font-bold mb-4 dark:text-white">
        Propose a New Trade
        </h2>
        <input id="counter-offer-original-id" type="hidden"/>
        <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="trade-partner-search">
            Select a Trade Partner
        </label>
        <input class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 dark:bg-gray-700 dark:border-gray-600" id="trade-partner-search" placeholder="Search for a user by their handle..." type="text"/>
        <div class="bg-white dark:bg-gray-600 absolute shadow-lg rounded-md mt-1 w-full max-h-40 overflow-y-auto z-20 hidden" id="trade-partner-results">
        </div>
        </div>
        <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="user-search-input">
            Search for a User
        </label>
        <input class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 dark:bg-gray-700 dark:border-gray-600" id="user-search-input" placeholder="Search for a user by their handle..." type="text"/>
        <div class="bg-white dark:bg-gray-600 absolute shadow-lg rounded-md mt-1 w-full max-h-40 overflow-y-auto z-20 hidden" id="user-search-results">
        </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="flex flex-col opacity-50 pointer-events-none" id="receiver-trade-section">
            <div class="flex justify-between items-center mb-2">
            <h3 class="font-bold text-lg dark:text-white">
            They Offer:
            </h3>
            <button class="auto-balance-btn px-3 py-1 bg-purple-600 text-white font-semibold rounded-full text-xs hover:bg-purple-700 disabled:opacity-50" data-side="receiver" type="button">
            <i class="fas fa-magic">
            </i>
            Auto-Balance
            </button>
            <div class="text-sm font-semibold dark:text-gray-300">
            Value:
            <span class="text-green-600 dark:text-green-400" id="receiver-value">
            0.00 SEK
            </span>
            </div>
            </div>
            <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg flex-grow flex flex-col">
            <div class="mb-2">
            <input class="w-full p-2 border rounded-md dark:bg-gray-900 dark:border-gray-600" id="their-collection-search" placeholder="Search their collection..." type="text"/>
            </div>
            <div class="flex space-x-1 mb-2 rounded-md bg-gray-200 dark:bg-gray-900 p-1">
            <button class="view-toggle-btn flex-1 py-1 text-sm rounded-md" data-side="receiver" data-view="list">
            List
            </button>
            <button class="view-toggle-btn flex-1 py-1 text-sm rounded-md" data-side="receiver" data-view="binder">
            Binder
            </button>
            </div>
            <div class="h-48 overflow-y-auto border rounded-md p-2 space-y-2 bg-white dark:bg-gray-800 dark:border-gray-600" id="their-collection-list">
            </div>
            <div class="h-48 overflow-y-auto border rounded-md p-2 bg-white dark:bg-gray-800 dark:border-gray-600 hidden grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2" id="their-collection-binder">
            </div>
            <div class="mt-4 flex-grow">
            <h4 class="font-semibold mb-2 dark:text-gray-200">
            Selected for Trade:
            </h4>
            <div class="space-y-1" id="receiver-selected-cards">
            <p class="text-sm text-gray-500 italic">
                Select a trade partner first.
            </p>
            </div>
            </div>
            </div>
            <div class="mt-4">
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="receiver-money">
            Money they add (SEK)
            </label>
            <input class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 dark:bg-gray-700 dark:border-gray-600" id="receiver-money" placeholder="0.00" step="0.01" type="number"/>
            </div>
        </div>
        <div class="flex flex-col" id="proposer-trade-section">
            <div class="flex justify-between items-center mb-2">
            <h3 class="font-bold text-lg dark:text-white">
            You Offer:
            </h3>
            <button class="auto-balance-btn px-3 py-1 bg-purple-600 text-white font-semibold rounded-full text-xs hover:bg-purple-700 disabled:opacity-50" data-side="proposer" type="button">
            <i class="fas fa-magic">
            </i>
            Auto-Balance
            </button>
            <div class="text-sm font-semibold dark:text-gray-300">
            Value:
            <span class="text-green-600 dark:text-green-400" id="proposer-value">
            0.00 SEK
            </span>
            </div>
            </div>
            <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg flex-grow flex flex-col">
            <div class="mb-2">
            <input class="w-full p-2 border rounded-md dark:bg-gray-900 dark:border-gray-600" id="my-collection-search" placeholder="Search your collection..." type="text"/>
            </div>
            <div class="flex space-x-1 mb-2 rounded-md bg-gray-200 dark:bg-gray-900 p-1">
            <button class="view-toggle-btn flex-1 py-1 text-sm rounded-md" data-side="proposer" data-view="list">
            List
            </button>
            <button class="view-toggle-btn flex-1 py-1 text-sm rounded-md" data-side="proposer" data-view="binder">
            Binder
            </button>
            </div>
            <div class="h-48 overflow-y-auto border rounded-md p-2 space-y-2 bg-white dark:bg-gray-800 dark:border-gray-600" id="my-collection-list">
            </div>
            <div class="h-48 overflow-y-auto border rounded-md p-2 bg-white dark:bg-gray-800 dark:border-gray-600 hidden grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2" id="my-collection-binder">
            </div>
            <div class="mt-4 flex-grow">
            <h4 class="font-semibold mb-2 dark:text-gray-200">
            Selected for Trade:
            </h4>
            <div class="space-y-1" id="proposer-selected-cards">
            <p class="text-sm text-gray-500 italic">
                No cards selected.
            </p>
            </div>
            </div>
            </div>
            <div class="mt-4">
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="proposer-money">
            Money you add (SEK)
            </label>
            <input class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 dark:bg-gray-700 dark:border-gray-600" id="proposer-money" placeholder="0.00" step="0.01" type="number"/>
            </div>
        </div>
        </div>
        <div class="mt-6 border-t pt-6 dark:border-gray-600">
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="trade-notes">
            Notes (Optional)
        </label>
        <textarea class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 dark:bg-gray-700 dark:border-gray-600" id="trade-notes" rows="2"></textarea>
        </div>
        <div class="mt-6 text-right">
        <button class="px-8 py-3 bg-green-600 text-white font-bold rounded-full hover:bg-green-700" id="send-trade-offer-btn">
            Send Trade Offer
        </button>
        </div>
        </div>
        </div>
        <div class="modal-overlay" id="auto-balance-modal">
        <div class="modal-content w-full max-w-md dark:bg-gray-800">
        <button class="close-button" id="close-balance-modal">
        ×
        </button>
        <h2 class="text-2xl font-bold mb-4 dark:text-white">
        Auto-Balance Offer
        </h2>
        <form class="space-y-4" id="auto-balance-form">
        <input id="balance-target-side" type="hidden"/>
        <p class="text-gray-600 dark:text-gray-300">
            Automatically add cards to match a percentage of the other side's value.
        </p>
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="balance-percentage">
            Match Percentage
            </label>
            <div class="relative mt-1">
            <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 pr-8" id="balance-percentage" max="1000" min="1" type="number" value="100"/>
            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
            <span class="text-gray-500 sm:text-sm">
            %
            </span>
            </div>
            </div>
            <p class="text-xs text-gray-500 mt-1">
            e.g., 100% to match value, 110% to offer more.
            </p>
        </div>
        <div class="text-right pt-2">
            <button class="px-6 py-2 bg-purple-600 text-white font-semibold rounded-full hover:bg-purple-700" type="submit">
            Balance Now
            </button>
        </div>
        </form>
        </div>
        </div>
        <div class="modal-overlay" id="feedback-modal">
        <div class="modal-content w-full max-w-lg dark:bg-gray-800">
        <button class="close-button" id="close-feedback-modal">
        ×
        </button>
        <h2 class="text-2xl font-bold mb-4 dark:text-white">
        Leave Feedback
        </h2>
        <form class="space-y-6" id="feedback-form">
        <input id="feedback-trade-id" type="hidden"/>
        <input id="feedback-for-user-id" type="hidden"/>
        <p class="dark:text-gray-300">
            How was your trade with
            <strong class="dark:text-white" id="feedback-for-user-name">
            </strong>
            ?
        </p>
        <div class="space-y-4">
            <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">
            Item Accuracy
            </label>
            <div class="star-rating-container flex items-center justify-center space-x-2 text-3xl text-gray-300" data-rating-type="accuracy">
            <i class="far fa-star star-icon cursor-pointer" data-value="1">
            </i>
            <i class="far fa-star star-icon cursor-pointer" data-value="2">
            </i>
            <i class="far fa-star star-icon cursor-pointer" data-value="3">
            </i>
            <i class="far fa-star star-icon cursor-pointer" data-value="4">
            </i>
            <i class="far fa-star star-icon cursor-pointer" data-value="5">
            </i>
            </div>
            <input class="rating-value-input" id="rating-accuracy" type="hidden" value="0"/>
            </div>
            <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">
            Packaging
            </label>
            <div class="star-rating-container flex items-center justify-center space-x-2 text-3xl text-gray-300" data-rating-type="packaging">
            <i class="far fa-star star-icon cursor-pointer" data-value="1">
            </i>
            <i class="far fa-star star-icon cursor-pointer" data-value="2">
            </i>
            <i class="far fa-star star-icon cursor-pointer" data-value="3">
            </i>
            <i class="far fa-star star-icon cursor-pointer" data-value="4">
            </i>
            <i class="far fa-star star-icon cursor-pointer" data-value="5">
            </i>
            </div>
            <input class="rating-value-input" id="rating-packaging" type="hidden" value="0"/>
            </div>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="feedback-comment">
            Comment (optional)
            </label>
            <textarea class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 dark:bg-gray-700 dark:border-gray-600" id="feedback-comment" rows="3"></textarea>
        </div>
        <div class="mt-6 text-right">
            <button class="px-6 py-2 bg-green-600 text-white font-semibold rounded-full hover:bg-green-700" type="submit">
            Submit Feedback
            </button>
        </div>
        </form>
        </div>
        </div>
        <div class="modal-overlay" id="dispute-modal">
        <div class="modal-content w-full max-w-lg dark:bg-gray-800">
        <button class="close-button" id="close-dispute-modal">
        ×
        </button>
        <h2 class="text-2xl font-bold mb-4 dark:text-white">
        Report a Problem with Trade
        </h2>
        <form class="space-y-4" id="dispute-form">
        <input id="dispute-trade-id" type="hidden"/>
        <p class="text-sm text-gray-600 dark:text-gray-400">
            Please describe the issue in detail. A moderator will review the case and contact both parties.
        </p>
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="dispute-reason">
            Reason
            </label>
            <select class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 dark:bg-gray-700 dark:border-gray-600" id="dispute-reason" required="">
            <option>
            Items not received
            </option>
            <option>
            Items not as described (condition, foil, etc.)
            </option>
            <option>
            Received wrong items
            </option>
            <option>
            Other
            </option>
            </select>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="dispute-details">
            Details
            </label>
            <textarea class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 dark:bg-gray-700 dark:border-gray-600" id="dispute-details" required="" rows="5"></textarea>
        </div>
        <div class="text-right">
            <button class="px-6 py-2 bg-red-600 text-white font-semibold rounded-full hover:bg-red-700" type="submit">
            Submit Dispute
            </button>
        </div>
        </form>
        </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/toastify-js" type="text/javascript">
        </script>
        <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js">
        </script>
        <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js">
        </script>
        <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js">
        </script>
        <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-storage-compat.js">
        </script>
        <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-functions-compat.js">
        </script>
        <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-analytics-compat.js">
        </script>
        <script src="js/auth.js">
        </script>
    <script src="js/mobile-navigation-fixed.js">
    </script>
        <script src="js/trades.js">
        </script>
        <script src="js/notifications.js">
        </script>
        <script src="js/darkmode.js">
        </script>
    </main>
    </div>

    <!-- Autobalance Modal -->
    <div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" id="autobalance-modal">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl p-6">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold text-gray-900 dark:text-white">Auto Balance Trade</h2>
                <button class="text-gray-500 hover:text-gray-800 dark:hover:text-white text-2xl font-bold" id="close-autobalance-modal">×</button>
            </div>
            <div class="space-y-4">
                <div class="bg-gray-50 dark:bg-gray-900 p-4 rounded-lg">
                    <h3 class="font-medium text-gray-900 dark:text-white mb-2">Current Trade Value</h3>
                    <div class="flex justify-between text-sm">
                        <span>Your offer: <span id="autobalance-your-value">$0.00</span></span>
                        <span>Their offer: <span id="autobalance-their-value">$0.00</span></span>
                    </div>
                    <div class="mt-2 text-center">
                        <span class="font-medium">Difference: <span id="autobalance-difference">$0.00</span></span>
                    </div>
                </div>
                <div id="autobalance-suggestions">
                    <!-- Suggestions will be populated here -->
                </div>
                <div class="flex justify-end space-x-2">
                    <button class="px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500" id="cancel-autobalance">Cancel</button>
                    <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700" id="apply-autobalance">Apply Suggestions</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Escrow Payment Modal -->
    <div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" id="escrow-modal">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold text-gray-900 dark:text-white">Secure Payment</h2>
                <button class="text-gray-500 hover:text-gray-800 dark:hover:text-white text-2xl font-bold" id="close-escrow-modal">×</button>
            </div>
            <div class="space-y-4">
                <div class="bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg">
                    <h3 class="font-medium text-blue-900 dark:text-blue-300 mb-2">
                        <i class="fas fa-shield-alt mr-2"></i>Escrow.com Protection
                    </h3>
                    <p class="text-sm text-blue-800 dark:text-blue-400">Your payment is secured through Escrow.com until both parties confirm the trade.</p>
                </div>
                <div class="space-y-2">
                    <div class="flex justify-between text-sm">
                        <span>Trade amount:</span>
                        <span id="escrow-trade-amount">$0.00</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>Escrow.com fee (0.8%):</span>
                        <span id="escrow-fee">$0.00</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>Platform fee (2.7%):</span>
                        <span id="platform-fee">$0.00</span>
                    </div>
                    <div class="border-t pt-2 flex justify-between font-medium">
                        <span>Total:</span>
                        <span id="escrow-total">$0.00</span>
                    </div>
                </div>
                <div class="flex justify-end space-x-2">
                    <button class="px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500" id="cancel-escrow">Cancel</button>
                    <button class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700" id="proceed-escrow">
                        <i class="fas fa-lock mr-2"></i>Secure Payment
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Card Preview Tooltip -->
    <div class="fixed pointer-events-none z-50 hidden" id="card-preview-tooltip"></div>

    <div class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-[1001]" id="cartModal">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg flex flex-col" style="height: 90vh; max-height: 800px;">
        <div class="flex justify-between items-center p-4 border-b dark:border-gray-700">
        <h2 class="text-xl font-bold">
        Your Cart
        </h2>
        <button class="text-gray-500 hover:text-gray-800 dark:hover:text-white text-2xl font-bold" id="closeCartModal">
        ×
        </button>
        </div>
        <div class="p-6 flex-grow overflow-y-auto" id="cart-items-container">
        <p class="text-center text-gray-500 dark:text-gray-400">
        Your cart is empty.
        </p>
        </div>
        <div class="p-6 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50">
        <div class="flex justify-between items-center font-bold text-lg">
        <span>
        Subtotal
        </span>
        <span id="cart-subtotal">
        $0.00
        </span>
        </div>
        <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
        Shipping &amp; taxes calculated at checkout.
        </p>
        <button class="w-full mt-4 bg-green-600 text-white font-semibold py-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400" disabled="" id="checkout-btn">
        Proceed to Checkout
        </button>
        </div>
    </div>
    </div>
    <script src="js/cart.js">
    </script>
    <script>
    const sidebar = document.getElementById('sidebar');
                const sidebarToggle = document.getElementById('sidebar-toggle');
                const sidebarOverlay = document.getElementById('sidebar-overlay');

                if (sidebarToggle) {
                    sidebarToggle.addEventListener('click', () => {
                        if (sidebar.classList.contains('-translate-x-full')) {
                        sidebar.classList.remove('-translate-x-full');
                        sidebar.classList.add('translate-x-0');
                        sidebarOverlay.classList.remove('hidden');
                    } else {
                        sidebar.classList.add('-translate-x-full');
                        sidebar.classList.remove('translate-x-0');
                        sidebarOverlay.classList.add('hidden');
                    }
                    });
                }

                if (sidebarOverlay) {
                    sidebarOverlay.addEventListener('click', () => {
                        sidebar.classList.add('-translate-x-full');
                        sidebarOverlay.classList.add('hidden');
                    });
                }
    </script>
    <script src="js/messenger.js">
    </script>

    <script src="https://cdn.jsdelivr.net/npm/shepherd.js@10.0.1/dist/js/shepherd.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/shepherd.js@10.0.1/dist/css/shepherd.css" rel="stylesheet"/>

    
    <div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-[1001]" id="new-conversation-modal">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md">
        <h2 class="text-2xl font-bold mb-4">
        Start a new conversation
        </h2>
        <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 mb-4" id="user-search-input" placeholder="Search for a user by handle..." type="text"/>
        <div class="max-h-60 overflow-y-auto" id="user-search-results">
        </div>
        <button class="mt-4 w-full bg-gray-200 dark:bg-gray-700 py-2 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 close-modal-btn" id="close-modal-btn">
        Cancel
        </button>
    </div>
    </div>
    <script>
    // Service Worker Registration
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', function() {
                    navigator.serviceWorker.register('/sw.js')
                        .then(function(registration) {
                            console.log('ServiceWorker registration successful with scope: ', registration.scope);
                        })
                        .catch(function(err) {
                            console.log('ServiceWorker registration failed: ', err);
                        });
                });
            }
    </script>
    <div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" id="loginModal">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6">
        <div class="flex justify-between items-center">
        <h2 class="text-xl font-bold">
        Login
        </h2>
        <button class="text-gray-500 hover:text-gray-800 dark:hover:text-white text-2xl font-bold" id="closeLoginModal">
        ×
        </button>
        </div>
        <form class="mt-4 space-y-4" id="loginForm">
        <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="loginEmail" placeholder="Email" required="" type="email"/>
        <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="loginPassword" placeholder="Password" required="" type="password"/>
        <p class="text-red-500 text-sm hidden" id="login-error-message">
        </p>
        <button class="w-full bg-blue-600 text-white font-semibold py-2 rounded-md hover:bg-blue-700" type="submit">
        Login
        </button>
        <button class="w-full bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold py-2 rounded-md border dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center justify-center" id="googleLoginButton" type="button">
        <img alt="Google icon" class="w-5 h-5 mr-2" src="https://www.svgrepo.com/show/475656/google-color.svg"/>
        Sign in with Google
        </button>
        </form>
    </div>
    </div>
    <div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" id="registerModal">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6">
        <div class="flex justify-between items-center">
        <h2 class="text-xl font-bold">
        Register
        </h2>
        <button class="text-gray-500 hover:text-gray-800 dark:hover:text-white text-2xl font-bold" id="closeRegisterModal">
        ×
        </button>
        </div>
        <form class="mt-4 space-y-4" id="registerForm">
        <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerEmail" placeholder="Email" required="" type="email"/>
        <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerPassword" placeholder="Password" required="" type="password"/>
        <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerCity" placeholder="City" type="text"/>
        <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerCountry" placeholder="Country" type="text"/>
        <input class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600" id="registerFavoriteTcg" placeholder="Favorite TCG" type="text"/>
        <p class="text-red-500 text-sm hidden" id="register-error-message">
        </p>
        <button class="w-full bg-blue-600 text-white font-semibold py-2 rounded-md hover:bg-blue-700" type="submit">
        Register
        </button>
        <button class="w-full bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold py-2 rounded-md border dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center justify-center" id="googleRegisterButton" type="button">
        <img alt="Google icon" class="w-5 h-5 mr-2" src="https://www.svgrepo.com/show/475656/google-color.svg"/>
        Register with Google
        </button>
        </form>
    </div>
    </div>
        </main>
        </div>
    </div>
    </body>
    </html>
